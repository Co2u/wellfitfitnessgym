import{X as d,r as m,j as e}from"./app-CI1o2zDc.js";import{A as h,a as u,b as f,c as p}from"./Footer-Du3FwGAi.js";import{X as x}from"./index.es-BKk90K_5.js";import"./Helmet-BgtHYfTe.js";const j=()=>{const{all_users:a}=d().props,[i,n]=m.useState(""),l=[{name:"Profile",selector:s=>e.jsx("img",{src:s.profile?`/template/images/${s.profile}`:"/template/member/img/Portrait_Placeholder.png",alt:"No image",style:{width:"50px"}}),sortable:!0},{name:"Name",selector:s=>`${s.first_name} ${s.last_name}`,sortable:!0},{name:"Phone",selector:s=>s.phone?`${s.phone}`:"N/A",sortable:!0},{name:"Email",selector:s=>`${s.email}`,sortable:!0},{name:"Option",cell:s=>e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`/admin/profile?id=${s.id}`,children:"View"}),"   |   ",e.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),o(s.id)},children:"Delete"})]})}],o=async s=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`/admin/list-account/delete?id=${s}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")},body:JSON.stringify({id:s})})).ok?(alert("Successfully deleted."),window.location.href="/admin/list-account"):alert("Failed to delete membership.")}catch(r){console.error("Error submitting:",r)}},c=a.filter(s=>s.first_name.toLowerCase().includes(i.toLowerCase()));return e.jsx("div",{children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card recent-sales overflow-auto",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"List Of Accounts"}),e.jsx(x,{columns:l,data:c,pagination:!0,highlightOnHover:!0,subHeader:!0,subHeaderComponent:e.jsx("input",{type:"text",placeholder:"Search",onChange:s=>n(s.target.value),style:{width:"100%",margin:"0"}})})]})})})})};function A(){return e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx(u,{}),e.jsx(f,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"List of All Accounts"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"List of All Accounts"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(j,{})})]}),e.jsx(p,{})]})}export{A as default};
