import{X as m,r as d,j as e}from"./app-B5uUBiNZ.js";import{A as h,a as u,b as x,c as f}from"./Footer-DrHeRHwj.js";import{h as p}from"./moment-BLMuvzoS.js";import{X as j}from"./index.es-BxTywsI4.js";import"./Helmet-C80axTHt.js";const b=()=>{const{reviews:a}=m().props,[i,l]=d.useState(""),n=[{name:"Name",selector:t=>`${t.first_name} ${t.last_name}`,sortable:!0},{name:"Image",selector:t=>e.jsx("img",{src:t.profile?`/template/images/${t.profile}`:"/template/member/img/Portrait_Placeholder.png",alt:"No image",style:{width:"50px"}}),sortable:!0},{name:"Date",selector:t=>t.created_at?p(t.created_at).format("MMMM D, YYYY"):"N/A",sortable:!0},{name:"Rating",selector:t=>e.jsx("div",{children:Array.from({length:5},(s,r)=>e.jsx("span",{style:{color:r<t.rate?"#FFD700":"#ccc"},children:"â˜…"},r))}),sortable:!0},{name:"Comments",selector:t=>t.comment,cell:t=>e.jsx("div",{style:{whiteSpace:"normal",wordBreak:"break-word",maxWidth:"300px"},children:t.comment}),sortable:!1,grow:2},{name:"Option",cell:t=>e.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),o(t.id)},children:"Delete"})}],o=async t=>{if(console.log("Delete reviewship with ID:",t),!!window.confirm("Are you sure you want to delete this review?"))try{(await fetch(`/admin/reviews/reviews/delete?id=${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")},body:JSON.stringify({id:t})})).ok?(alert("Successfully deleted."),window.location.href="/admin/reviews"):alert("Failed to delete.")}catch(r){console.error("Error submitting:",r)}},c=a.filter(t=>`${t.first_name} ${t.last_name}`.toLowerCase().includes(i.toLowerCase()));return e.jsx("div",{children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card recent-sales overflow-auto",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"List Of Reviews"}),e.jsx(j,{columns:n,data:c,pagination:!0,highlightOnHover:!0,subHeader:!0,subHeaderComponent:e.jsx("input",{type:"text",placeholder:"Search",onChange:t=>l(t.target.value),style:{width:"100%",margin:"0"}})})]})})})})};function C(){return e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx(u,{}),e.jsx(x,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"Reviews"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"Client Reviews"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(b,{})})]}),e.jsx(f,{})]})}export{C as default};
